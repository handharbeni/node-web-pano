<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izimodal/1.5.1/css/iziModal.min.css" integrity="sha512-8vr9VoQNQkkCCHGX4BSjg63nI5CI4B+nZ8SF2xy4FMOIyH/2MT0r55V276ypsBFAgmLIGXKtRhbbJueVyYZXjA==" crossorigin="anonymous" />
<style>
body {
    overflow: hidden;
    margin: 0;
}

* {
	box-sizing: border-box;
}

.video-container{
    width: 100%;
    height: 100%;
    overflow: hidden;
}

video {
    object-fit: cover;
    width: 100%;
    height: auto;
    position: absolute;
    top: 0;
    left: 0;
    min-width: 100%;
    min-height: 100%;

      -webkit-transform: translate(0, 0);
       -moz-transform: translate(0, 0);
        -ms-transform: translate(0, 0);
	    transform: translate(0%, 0%);

}
.content {
    position: absolute;
    width: auto;
    top: 66%;
    left: 48%;
}
/* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) {
    .content {
        position: absolute;
        width: auto;
        top: 66%;
        left: 45%;
    }
}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px) {
    .content {
        position: absolute;
        width: auto;
        top: 66%;
        left: 45%;
    }
}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 768px) {
    .content {
        position: absolute;
        width: auto;
        top: 65%;
        left: 47%;
    }
} 

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px) {
    .content {
        position: absolute;
        width: auto;
        top: 67%;
        left: 48%;
    }
} 

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px) {
    .content {
        position: absolute;
        width: auto;
        top: 66%;
        left: 48%;
    }
}
.nav {
    overflow: hidden;
    background-color: #0890d4;
    z-index: 1;
    position: absolute;
    width: auto;
}
.nav a {
    float: left;
    display: block;
    color: #ffffff;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 18px;
}
.nav a:hover {
    background-color: #eeeeee;
    color: #000000;
}
.nav a.active {
    background-color: #0e002b;
    color: #ffffff;
}
.nav .login-container {
    float: right;
}
.nav input[type=text],
.nav input[type=password] {
    padding: 6px;
    margin-top: 8px;
    font-size: 17px;
    border: none;
    width: 120px;
}
.nav .login-container button {
    float: right;
    padding: 6px 10px;
    margin-top: 8px;
    margin-bottom: 8px;
    margin-right: 16px;
    background-color: #1c87c9;
    color: white;
    font-size: 17px;
    border: none;
    cursor: pointer;
}
.nav .login-container button:hover {
    background-color: #0e002b;
}
@media screen and (max-width: 600px) {
    .nav .login-container {
        float: none;
    }
    .nav a,
    .topnav input[type=text],
    .nav .login-container button {
        float: none;
        display: block;
        text-align: left;
        width: 100%;
        margin: 0;
        padding: 14px;
    }
    .nav input[type=text] {
        border: 1px solid #ccc;
    }
}
input{outline:none;border:none}
input:focus::-webkit-input-placeholder{color:transparent}
input:focus:-moz-placeholder{color:transparent}
input:focus::-moz-placeholder{color:transparent}
input:focus:-ms-input-placeholder{color:transparent}
input::-webkit-input-placeholder{color:#999}
input:-moz-placeholder{color:#999}
input::-moz-placeholder{color:#999}
input:-ms-input-placeholder{color:#999}
label{display:block;margin:0}
button{outline:none!important;border:none;background:0 0}
button:hover{cursor:pointer}
.limiter{width:100%;margin:0 auto}
.container-login100{width:100%;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background-color:#ebebeb}
.wrap-login100{padding: 40px;width:100%;background:#fff;border-radius:10px;position:relative}
.login100-form{width:100%}
.login100-form-title{font-family:Raleway-Medium;font-size:30px;color:#555;line-height:1.2;text-transform:uppercase;text-align:left;width:100%;display:block;margin: 10px;}
.wrap-input100{width:100%;position:relative;background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;margin:10px;}
.input100{font-family:Raleway-Medium;color:#555;line-height:1.2;font-size:18px;display:block;width:100%;background:0 0;height:55px;padding:0 25px;}
.focus-input100{position:absolute;display:block;width:calc(100% + 2px);height:calc(100% + 2px);top:-1px;left:-1px;pointer-events:none;border:1px solid #57b846;border-radius:3px;visibility:hidden;opacity:0;-webkit-transition:all .4s;-o-transition:all .4s;-moz-transition:all .4s;transition:all .4s;-webkit-transform:scaleX(1.1) scaleY(1.3);-moz-transform:scaleX(1.1) scaleY(1.3);-ms-transform:scaleX(1.1) scaleY(1.3);-o-transform:scaleX(1.1) scaleY(1.3);transform:scaleX(1.1) scaleY(1.3)}
.input100:focus+.focus-input100{visibility:visible;opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}
.eff-focus-selection{visibility:visible;opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}
.btn-show-pass{font-size:15px;color:#999;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;align-items:center;position:absolute;height:100%;top:0;right:12px;padding:0 5px;cursor:pointer;-webkit-transition:background .4s;-o-transition:background .4s;-moz-transition:background .4s;transition:background .4s}
.btn-show-pass:hover{color:#57b846}
.btn-show-pass.active{color:#57b846}
.input-checkbox100{display:none}
.label-checkbox100{font-family:Raleway-Regular;font-size:13px;color:#999;line-height:1.4;display:block;position:relative;padding-left:26px;cursor:pointer}
.label-checkbox100::before{content:"\f00c";font-family:FontAwesome;font-size:13px;color:transparent;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:center;align-items:center;position:absolute;width:18px;height:18px;border-radius:2px;background:#fff;border:1px solid #e6e6e6;left:0;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%)}.input-checkbox100:checked+.label-checkbox100::before{color:#57b846}
.container-login100-form-btn{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;flex-wrap:wrap}
.login100-form-btn{font-family:Raleway-Bold;font-size:16px;color:#fff;line-height:1.2;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;justify-content:center;align-items:center;padding:0 20px;min-width:150px;height:55px;background-color:#333;border-radius:27px;-webkit-transition:all .4s;-o-transition:all .4s;-moz-transition:all .4s;transition:all .4s;margin:15px;}
.login100-form-btn:hover{background-color:#57b846}
.validate-input{position:relative}
.alert-validate .btn-show-pass{visibility:hidden}
.alert-validate::before{content:attr(data-validate);position:absolute;max-width:70%;background-color:#fff;border:1px solid #c80000;border-radius:3px;padding:4px 25px 5px 10px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);right:12px;pointer-events:none;font-family:Raleway-Medium;color:#c80000;font-size:14px;line-height:1.4;text-align:left;visibility:hidden;opacity:0;-webkit-transition:opacity .4s;-o-transition:opacity .4s;-moz-transition:opacity .4s;transition:opacity .4s}
.alert-validate::after{content:"\f12a";font-family:FontAwesome;display:block;position:absolute;color:#c80000;font-size:18px;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);right:18px}.alert-validate:hover:before{visibility:visible;opacity:1}
@media(max-width:992px){
    .alert-validate::before{visibility:visible;opacity:1}
}
@media(max-width:576px){
    .wrap-login100{padding-left:15px;padding-right:15px}
}
</style>
</head>
<body>
<div class="video-container">
    <video playsinline autoplay muted loop poster="https://i.ytimg.com/vi/vYsNAmc9mHE/maxresdefault.jpg" id="bgvid">
    </video>
</div>

<a class="trigger content" href="#">
    <img src="http://1719132208.rsc.cdn77.org/assets/icon/link.png">
</a>
<!-- Modal structure -->
<div id="modal"> <!-- data-iziModal-fullscreen="true"  data-iziModal-title="Welcome"  data-iziModal-subtitle="Subtitle"  data-iziModal-icon="icon-home" -->
    <!-- Modal content -->
    <div class="wrap-login100 p-l-85 p-r-85 p-t-55 p-b-55">
        <form class="login100-form validate-form flex-sb flex-w" id="loginform">
            <span class="login100-form-title p-b-32">Account Login</span>
            <span class="txt1 p-b-11">Username</span>
            <div class="wrap-input100 validate-input m-b-36" data-validate="Username is required">
                <input class="input100" type="text" name="username" id="username">
                <span class="focus-input100"></span>
            </div>
            <span class="txt1 p-b-11">Password</span>
            <div class="wrap-input100 validate-input m-b-12" data-validate="Password is required">
                <span class="btn-show-pass">
                    <i class="fa fa-eye"></i>
                </span>
                <input class="input100" type="password" name="pass" id="pass">
                <span class="focus-input100"></span>
            </div>
            <div class="container-login100-form-btn">
                <button class="login100-form-btn">Login</button>
            </div>
        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/izimodal/1.5.1/js/iziModal.min.js" integrity="sha512-8aOKv+WECF2OZvOoJWZQMx7+VYNxqokDKTGJqkEYlqpsSuKXoocijXQNip3oT4OEkFfafyluI6Bm6oWZjFXR0A==" crossorigin="anonymous"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>

axios
    .get("videos")
    .then(response => {
        var video = document.getElementById('bgvid');
        var source = document.createElement('source');
        source.setAttribute('src', response.data);
        video.appendChild(source);
        video.play();
    })
    .catch();
$("#modal").iziModal();
$(document).on('click', '.trigger', function (event) {
    console.log('clicked');
    event.preventDefault();
    axios.get("get-session")
            .then(response => {
                if(response.data.status == true){
                    window.location.replace("lobby");
                } else {
                    $('#modal').iziModal('open');
                }
            })
            .catch();
});
$("#loginform").on('submit', function(e){
    e.preventDefault();
    $.ajax({
        url: 'http://wisuda2020-prasetiyamulya.com:2099/login-member',
        type: 'POST',
        data: {
            "username": $("#username").val(),
            "pass": $("#pass").val()
        },
        success: function(response){
            // console.log(response.success, response.data.token);
            // save-session
            if (response.success == true){
                axios.post('save-session', {
                    'isLoggedIn': response.success,
                    'token': response.data.token
                })
                .then(function(responseSave){
                    console.log(responseSave);
                    Swal.fire({
                        title: 'Login Succesed',
                        icon: 'success',
                        showCancelButton: false,
                        confirmButtonText: 'OK',
                    }).then((result) => {
                        window.location.replace("lobby");
                    })
                })
                .catch(function(error){
                    Swal.fire({
                        title: error,
                        icon: 'warning',
                        showCancelButton: false,
                        confirmButtonText: 'OK',
                    }).then((result) => {})
                })
            } else {
                Swal.fire({
                    title: response.message,
                    icon: 'warning',
                    showCancelButton: false,
                    confirmButtonText: 'OK',
                }).then((result) => {})
            }
        },
        error: function(){

        }
    })
})

</script>
</body>
</html>
